/* Минималистичная тема для <dialog> с плавными анимациями и скроллом контента */

/* Блокируем скролл страницы, пока открыт ЛЮБОЙ диалог */
html:has(dialog[open]) { overflow: hidden; }

/* Базовая геометрия окна */
/* Общие стили для модалки */
dialog.modal {
  border: none;
  padding: 0;
  border-radius: 16px;
  box-shadow: 0 30px 80px rgba(0, 0, 0, 0.25);
  background: #F9F4EA;
  color: #383329;
  overflow: hidden; /* Внутренний скролл только в .modal__body */
  position: fixed; /* Фиксируем модалку по центру экрана */
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%); /* Центрируем модалку */
  z-index: 1000; /* Модалка будет поверх всего контента */
  transition: opacity 0.28s, transform 0.28s;
  max-width: 100%; /* Ограничиваем максимальную ширину */
  width: 80vw; /* Ширина модалки по умолчанию 80% от ширины экрана */
  height: 70vh; /* Высота модалки по умолчанию 70% от высоты экрана */
}

/* Модалка с большими размерами (когда нужно показать большую модалку) */
dialog.modal.full {
  width: 90vw; /* Модалка занимает 90% от ширины экрана */
  height: 80vh; /* Высота модалки на 80% экрана */
}

/* Модалка с маленькими размерами */
dialog.modal.small {
  width: 60vw; /* Модалка на 60% ширины экрана */
  height: auto; /* Высота автоматически подстраивается под содержимое */
  min-width: 300px; /* Минимальная ширина 300px */
  max-width: 90%; /* Максимальная ширина 90% экрана */
  padding: 20px; /* Дополнительный отступ для маленькой модалки */
  box-sizing: border-box; /* Чтобы padding не выходил за пределы */
  /* Убираем ограничение по высоте, чтобы высота подстраивалась под содержимое */
}

/* Адаптивные стили для мобильных устройств */
@media (max-width: 768px) {
  dialog.modal {
    width: 90vw; /* Увеличиваем ширину модалки до 90% экрана */
    height: 80vh; /* Высота модалки будет 80% экрана */
  }

  dialog.modal.small {
    width: 85vw; /* Ширина малой модалки для мобильных устройств 85% */
    min-height: 150px; /* Минимальная высота 150px для мобильных устройств */
    height: auto; /* Высота будет подстраиваться */
  }

  dialog.modal.full {
    width: 95vw; /* Для полноэкранной модалки — 95% ширины экрана */
    height: 90vh; /* Полностью заполняет экран */
  }
}

/* Для очень маленьких экранов (например, смартфоны в вертикальной ориентации) */
@media (max-width: 480px) {
  dialog.modal {
    width: 95vw; /* Ширина 95% от экрана */
    height: 75vh; /* Высота 75% от экрана */
  }

  dialog.modal.small {
    width: 90vw; /* Для маленькой модалки 90% от экрана */
    min-height: 150px; /* Минимальная высота 150px */
    height: auto; /* Высота будет подстраиваться под содержимое */
  }

  dialog.modal.full {
    width: 98vw; /* Полная ширина экрана */
    height: 80vh; /* Почти вся высота экрана */
  }
}

/* Для экранов с очень маленькими размерами (например, в режиме мобильного телефона) */
@media (max-width: 360px) {
  dialog.modal {
    width: 95vw; /* Увеличиваем ширину для маленьких экранов */
    height: 70vh; /* Высота модалки 70% от экрана */
  }

  dialog.modal.small {
    width: 85vw; /* Малая модалка 85% от экрана */
    min-height: 150px; /* Минимальная высота для маленькой модалки */
    height: auto; /* Высота будет подстраиваться */
  }

  dialog.modal.full {
    width: 98vw; /* Полная ширина экрана */
    height: 85vh; /* Высота почти на весь экран */
  }
}




/* Backdrop */
dialog.modal::backdrop {
  cursor: pointer;
  background: color-mix(in oklab, black 70%, transparent);
  transition: background .28s;
  transition-behavior: allow-discrete;
}
@starting-style {
  dialog.modal::backdrop { background: rgba(0,0,0,0); }
}

/* Плавное появление */
dialog.modal.opening {
  opacity: 0;
  transform: translate(-50%, -50%) translateY(8px) scale(.985);
  transition: opacity .28s, transform .28s;
}

dialog.modal[open] {
  opacity: 1;
  transform: translate(-50%, -50%) translateY(0) scale(1);
  transition: opacity .28s, transform .28s;
}

/* Плавное закрытие */
dialog.modal.closing {
  opacity: 0;
  transform: translate(-50%, -50%) translateY(8px) scale(.985);
}

dialog.modal.closing::backdrop {
  background: rgba(0,0,0,0);
}




/* Прокручиваемая зона контента */
.modal__body {
  overflow-y: auto; /* Добавляем вертикальную прокрутку */
  max-height: 80vh; /* Ограничиваем высоту, чтобы контент не выходил за пределы */
  padding: 18px;
}
